{% if error %}
  <div class="alert alert-error my-4">{{ error }}</div>
{% elif summary %}
  <div class="card bg-base-100 my-4 shadow">
    <div class="card-body">
      <h2 class="card-title">Summary</h2>
      <p>{{ summary }}</p>
    </div>
  </div>

  <!-- Chat messages will appear here -->
  <div id="chat" class="mt-4 space-y-4"></div>

  <!-- Follow-up question form -->
  <form
    hx-post="{{ url_for('answer_question') }}"
    hx-target="#chat"
    hx-swap="innerHTML"
    class="mt-4 flex w-full flex-col items-start gap-4 lg:flex-row"
  >
    <textarea
      name="question"
      rows="3"
      class="textarea textarea-bordered w-full"
      placeholder="Ask a question about these comments..."
      required
    ></textarea>
    <button type="submit" class="btn btn-primary self-end">Ask</button>
  </form>
{% endif %}
