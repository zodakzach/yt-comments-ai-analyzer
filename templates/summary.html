{% if error %}
  <div class="alert alert-error my-4">
    {{ error }}
  </div>
{% elif summary %}
  <div class="card bg-base-100 shadow my-4">
    <div class="card-body">
      <h2 class="card-title">Summary</h2>
      <p>{{ summary }}</p>
    </div>
  </div>

  <!-- Chat messages will appear here -->
  <div id="chat" class="mt-4 space-y-4"></div>

  <!-- Follow-up question form -->
  <form
    hx-post="{{ url_for('answer_question') }}"
    hx-target="#chat"
    hx-swap="innerHTML"
    class="flex flex-col lg:flex-row items-start gap-4 mt-4 w-full"
  >
    <textarea
      name="question"
      rows="3"
      class="textarea textarea-bordered w-full"
      placeholder="Ask a question about these comments..."
      required
    ></textarea>
    <button type="submit" class="btn btn-primary self-end">
      Ask
    </button>
  </form>
{% endif %}
